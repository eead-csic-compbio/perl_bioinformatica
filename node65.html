<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Creaci&#243;n de paquetes y m&#243;dulos</TITLE>
<META NAME="description" CONTENT="Creaci&#243;n de paquetes y m&#243;dulos">
<META NAME="keywords" CONTENT="bioinfoPerl">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="bioinfoPerl.css">

<LINK REL="next" HREF="node66.html">
<LINK REL="previous" HREF="node64.html">
<LINK REL="up" HREF="node62.html">
<LINK REL="next" HREF="node66.html">
<!--google-->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22456400-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</HEAD>

<BODY >

<DIV CLASS="navigation">
<A NAME="tex2html1006"
  HREF="node64.html">
<IMG  ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="./icons//prev.png"></A> 
<A NAME="tex2html1012"
  HREF="node62.html">
<IMG  ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="./icons//up.png"></A> 
<A NAME="tex2html1014"
  HREF="node66.html">
<IMG  ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="./icons//next.png"></A><div><fieldset>Siguiente: <b><A NAME="tex2html1015"
  HREF="node66.html">Utilizaci&#243;n de paquetes y m&#243;dulos</A></b>  Arriba: <b><A NAME="tex2html1013"
  HREF="node62.html">Paquetes y m&#243;dulos</A></b>  Anterior: <b><A NAME="tex2html1007"
  HREF="node64.html">CPAN</A></b></fieldset></div></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00343000000000000000">
Creaci&#243;n de paquetes y m&#243;dulos</A>
</H2>

<P>
Podemos crear un m&#243;dulo con subrutinas o estructuras de datos que nos hayan sido especialmente 
&#250;tiles y que sigamos usando de forma repetida. En teor&#237;a basta con que cre&#233;is un archivo
<code>paquete.pm</code> 
que contenga las siguientes l&#237;neas:
<PRE>
package paquete;

# todo lo que venga aquí es el contenido del módulo

1;
</PRE>

<P>
Ahora os muestro un ejemplo de paquete gen&#233;rico que contiene dos subrutinas:
<PRE>
package operaciones_tipicas;

use Exporter;

our @ISA    = qw(Exporter);
our @EXPORT = qw( subrutina2 $variable_exportable ); 

our $variable_exportable;

sub subrutina1_interna #no se exporta, no se puede invocar desde fuera
{
	my ($parametros) = @_;
	# código de subrutina
	my $resultados;
	#...
	
	return ($resultados)  
}

sub subrutina2
{
	# código de subrutina 
	# llama a subrutina1
	my $datos = subrutina1_interna(time());
	
	#otras operaciones...
	$variable_exportable = $datos;
}

1;  # convención para terminar un paquete
</PRE>

<P>
Para utilizar este m&#243;dulo desde otro programa podr&#237;amos:
<PRE>
#!/usr/bin/perl -w 
# Ejemplo escrito por Bruno Contreras Moreira

use strict;
use operaciones_tipicas;  

subrutina2();                # acceso a una subrutina del módulo  
print $variable_exportable;  # acceso a una variable del módulo
</PRE>

<P>
Al instalar el int&#233;rprete Perl viene incluido el programa 
<code>h2xs</code> 
que nos ayuda a crear paquetes siguiendo una plantilla gen&#233;rica. Para crear el paquete  <i> ejemplo  </i> har&#237;amos:
<BR>
<code>$ h2xs -Xn ejemplo</code> 
<A NAME="1805"></A>.

<P>
Que a mi me devuelve:
<BR>
<PRE>
Defaulting to backwards compatibility with perl 5.8.5
If you intend this module to be compatible with earlier perl versions, please
specify a minimum perl version with the -b option.

Writing ejemplo/lib/ejemplo.pm
Writing ejemplo/Makefile.PL
Writing ejemplo/README
Writing ejemplo/t/ejemplo.t
Writing ejemplo/Changes
Writing ejemplo/MANIFEST
</PRE>

<P>
El programa crea un subdirectorio con el nombre del paquete y coloca ah&#237; una plantilla 
ya iniciada de 
<code>ejemplo.pm</code> 
donde deberemos ir a&#241;adiendo el c&#243;digo que deseemos. 
Adem&#225;s, el programa genera documentaci&#243;n que acompa&#241;a al paquete e instrucciones 
para compilarlo y finalmente instalarlo en tu sistema. 

<P>
Si quer&#233;is contribuir con alg&#250;n m&#243;dulo a CPAN deber&#225;n ir en el formato generado por 
<code>h2xs</code>.

<P>

<DIV CLASS="navigation"><hr> 
<A NAME="tex2html1006"
  HREF="node64.html">
<IMG  ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="./icons//prev.png"></A> 
<A NAME="tex2html1012"
  HREF="node62.html">
<IMG  ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="./icons//up.png"></A> 
<A NAME="tex2html1014"
  HREF="node66.html">
<IMG  ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="./icons//next.png"></A></DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Bruno Contreras-Moreira<br><a href="http://www.eead.csic.es/compbio">http://www.eead.csic.es/compbio</a>
</ADDRESS>
</BODY>
</HTML>
